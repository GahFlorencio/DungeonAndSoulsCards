<!DOCTYPE html>
<html>
<head>
    <title>Debug Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-btn { margin: 10px; padding: 10px; background: #007bff; color: white; border: none; cursor: pointer; }
        .result { margin: 10px; padding: 10px; background: #f0f0f0; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>Debug Test - Equipment Selection</h1>
    <button class="test-btn" onclick="testSelection()">Test Equipment Selection Logic</button>
    <div id="results"></div>

    <script>
        function testSelection() {
            const results = document.getElementById('results');
            let html = '<div class="result">';
            
            // Simula o comportamento da sele√ß√£o
            let tempSelected = [];
            const mockEquipments = [
                {id: 1, nome: 'Espada'},
                {id: 2, nome: 'Escudo'},
                {id: 3, nome: 'Arco'},
                {id: 4, nome: 'Machado'}
            ];

            html += '<h3>Teste de Sele√ß√£o:</h3>';

            // Testa sele√ß√£o de equipamentos
            for (let i = 0; i < 4; i++) {
                const equip = mockEquipments[i];
                const existingIndex = tempSelected.findIndex(sel => sel.id === equip.id);

                if (existingIndex >= 0) {
                    tempSelected.splice(existingIndex, 1);
                    html += `<p>‚ùå Removido: ${equip.nome} (Total: ${tempSelected.length})</p>`;
                } else if (tempSelected.length < 2) {
                    tempSelected.push(equip);
                    html += `<p>‚úÖ Adicionado: ${equip.nome} (Total: ${tempSelected.length})</p>`;
                } else {
                    html += `<p>üö´ Tentativa de adicionar ${equip.nome} - BLOQUEADO (j√° tem 2)</p>`;
                }
            }

            html += `<h4>Resultado final: ${tempSelected.length} equipamentos</h4>`;
            html += `<p>Equipamentos: ${tempSelected.map(e => e.nome).join(', ')}</p>`;
            html += '</div>';

            results.innerHTML = html;
        }
    </script>
</body>
</html>
